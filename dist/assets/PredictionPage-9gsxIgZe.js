import{d as Q,i as d,e as W,r as G,o as t,l as u,f as C,a,w as s,g as r,u as o,K as M,F as _,m as T,c as B,t as w,q as b,L as R,M as H,N as P,O as I,P as J,Q as N,R as O,_ as q}from"./index-SbsWRYZY.js";import{i as Y}from"./index-DFpWVYxE.js";const Z="/assets/empty(1)-BJiCgFea.png",$="/assets/empty-DnL4XVpH.png",ee={key:0,class:"background1"},le={key:0,class:"gpxz-error"},ae={key:1,class:"ptime-error"},se={key:2,class:"model-error"},te={key:0,src:Z,width:"400px",height:"320px",class:"empty1"},oe={class:"back"},ue={id:"yuce",ref:"charts",class:"kuang"},re={key:1,class:"background2"},ie={key:0,class:"gpxz-error"},ne={key:1,class:"ptime-error"},ve={key:2,class:"model-error"},de={key:0,src:$,width:"600px",height:"420px",class:"empty2"},ce={class:"back"},pe={id:"yuce",ref:"charts",class:"kuang"},be=Q({__name:"PredictionPage",setup(fe){const S=d([{value:"AAPL",label:"苹果公司（Apple Inc.）"},{value:"MSFT",label:"微软（Microsoft）"},{value:"AMZN",label:"亚马逊（Amazon）"},{value:"GOOGL",label:"谷歌（Alphabet Inc.，原谷歌）"},{value:"GOOG",label:"谷歌（Alphabet Inc.，原谷歌）"},{value:"META",label:"元宇宙（Meta，原Facebook）"},{value:"BRK-A",label:"伯克希尔哈撒韦（Berkshire Hathaway A类股）"},{value:"BRK-B",label:"伯克希尔哈撒韦（Berkshire Hathaway B类股）"},{value:"JNJ",label:"强生（Johnson & Johnson）"},{value:"TSLA",label:"特斯拉（Tesla）"},{value:"V",label:"维萨（Visa）"},{value:"WMT",label:"沃尔玛（Walmart）"},{value:"JPM",label:"摩根大通（JPMorgan Chase）"},{value:"MA",label:"万事达卡（Mastercard）"},{value:"PG",label:"宝洁（Procter & Gamble）"},{value:"NVDA",label:"英伟达（NVIDIA）"},{value:"HD",label:"家得宝（The Home Depot）"},{value:"DIS",label:"迪士尼（Disney）"},{value:"UNH",label:"联合健康集团（UnitedHealth Group）"},{value:"PYPL",label:"贝宝（PayPal）"},{value:"BAC",label:"美国银行（Bank of America）"},{value:"INTC",label:"英特尔（Intel）"},{value:"CMCSA",label:"康卡斯特（Comcast）"},{value:"VZ",label:"威瑞森（Verizon）"},{value:"NFLX",label:"奈飞（Netflix）"},{value:"PFE",label:"辉瑞（Pfizer）"},{value:"ADBE",label:"奥多比（Adobe）"},{value:"T",label:"美国电话电报公司（AT&T）"},{value:"PEP",label:"百事可乐（PepsiCo）"},{value:"CRM",label:"赛富时（Salesforce）"},{value:"ABT",label:"雅培（Abbott Laboratories）"},{value:"CSCO",label:"思科（Cisco）"},{value:"ABBV",label:"艾伯维（AbbVie）"},{value:"XOM",label:"埃克森美孚（Exxon Mobil）"},{value:"AVGO",label:"博通（Broadcom）"},{value:"KO",label:"可口可乐（Coca-Cola）"},{value:"CMG",label:"墨式烧烤（Chipotle Mexican Grill）"},{value:"AMD",label:"超微半导体（Advanced Micro Devices）"},{value:"DUK",label:"杜克能源（Duke Energy）"},{value:"QCOM",label:"高通（Qualcomm）"},{value:"TMO",label:"赛默飞世尔科技（Thermo Fisher Scientific）"},{value:"COST",label:"好市多（Costco）"},{value:"LLY",label:"礼来（Eli Lilly and Company）"},{value:"NEE",label:"NextEra Energy"},{value:"MRK",label:"默克（Merck & Co., Inc.）"},{value:"MDT",label:"美敦力（Medtronic）"},{value:"TMUS",label:"T-Mobile US"},{value:"ORCL",label:"甲骨文（Oracle）"},{value:"ACN",label:"埃森哲（Accenture）"},{value:"NKE",label:"耐克（Nike）"},{value:"CL",label:"高露洁棕榄（Colgate-Palmolive）"}]),V=d(""),D=d(!1),h=d(!0),k=d(""),z=d([{value:"XGBoost",label:"XGBoost"},{value:"lightGBM",label:"lightGBM"},{value:"ARIMA",label:"ARIMA"}]),x=d(""),f=d("1"),m=d({close_price:[],volatility:[]}),E=d(!0),L=d(!1),y=d(""),c=d(""),g=d(""),K=()=>{D.value=!1,h.value=!0,E.value=!0},X=()=>{if(y.value="",c.value="",g.value="",V.value||(y.value="请选择一支股票"),!k.value)c.value="请输入预测时间";else{const p=parseFloat(k.value);Number.isInteger(p)===!1?c.value="预测时间必须是整数":p<=0?c.value="预测时间不可小于1天":p>60&&(c.value="预测时间不可大于60天")}return x.value||(g.value="请选择模型"),!y.value&&!c.value&&!g.value},U=async()=>{if(X()){const p={ticker:V.value,forecast_days:parseInt(k.value),model_type:x.value,var:f.value},e=await fetch("http://47.239.17.192:80/forecast",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const i=await e.json();console.log(2),m.value.close_price=i[0].close_price,m.value.volatility=i[1].volatility,m.value.volatility[0]=0,F(),E.value=!1,L.value=!0}},F=()=>{const p=["#f56c6c","#32CD32"],e=Y(document.getElementById("yuce")),i=[],A=parseInt(k.value);for(let v=0;v<A;v++)i.push(v);let l,n;m.value.close_price.length>0?(l=m.value.close_price[0],n=m.value.close_price[0]):(l=null,n=null);for(const v of m.value.close_price)v!==null&&((l===null||v<l)&&(l=v),(n===null||v>n)&&(n=v));if(l!==null&&n!==null){const v=n-l+1;n=n+v,l=l-v}n=parseInt((n==null?void 0:n.toString())||"0"),l=parseInt((l==null?void 0:l.toString())||"0");const j={color:p,tooltip:{trigger:"axis",axisPointer:{type:"cross"}},grid:{right:"20%"},toolbox:{feature:{dataView:{show:!0,readOnly:!1},restore:{show:!0},saveAsImage:{show:!0}}},legend:{data:["股价预测","波动率"]},xAxis:[{type:"category",axisTick:{alignWithLabel:!0},data:i}],yAxis:[{type:"value",name:"波动率",position:"right",alignTicks:!0,axisLine:{show:!0,lineStyle:{color:p[1]}},axisLabel:{formatter:"{value} "}},{type:"value",max:n,min:l,name:"股价预测",position:"left",alignTicks:!0,axisLine:{show:!0,lineStyle:{color:p[0]}},axisLabel:{formatter:v=>v.toFixed(2)}}],series:[{name:"股价预测",type:"line",yAxisIndex:1,data:m.value.close_price},{name:"波动率",type:"line",yAxisIndex:0,data:m.value.volatility}]};e.setOption(j)};return W(()=>{F()}),(p,e)=>{const i=G("ElTag"),A=G("ElCard");return t(),u(_,null,[D.value?(t(),u("div",ee,[e[18]||(e[18]=C("span",{class:"page-title"},"股票预测",-1)),a(A,{class:"card1-1",shadow:"always"},{default:s(()=>[a(i,{class:"select",effect:"dark",size:"large",type:"success"},{default:s(()=>e[10]||(e[10]=[r("请选择一支股票")])),_:1}),a(o(P),{modelValue:V.value,"onUpdate:modelValue":e[0]||(e[0]=l=>V.value=l),class:M(["selectk",{"is-invalid":y.value}]),filterable:"",placeholder:"请选择"},{default:s(()=>[(t(!0),u(_,null,T(S.value,l=>(t(),B(o(I),{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","class"]),y.value?(t(),u("span",le,w(y.value),1)):b("",!0),a(i,{class:"ptime",effect:"dark",size:"large",type:"danger"},{default:s(()=>e[11]||(e[11]=[r("预测时间选择")])),_:1}),a(o(J),{modelValue:k.value,"onUpdate:modelValue":e[1]||(e[1]=l=>k.value=l),class:M(["ptimek",{"is-invalid":c.value}]),placeholder:"请输入最多60天",clearable:""},null,8,["modelValue","class"]),c.value?(t(),u("span",ae,w(c.value),1)):b("",!0),a(i,{class:"model",effect:"dark",size:"large",type:"warning"},{default:s(()=>e[12]||(e[12]=[r("模型选择")])),_:1}),a(o(P),{modelValue:x.value,"onUpdate:modelValue":e[2]||(e[2]=l=>x.value=l),class:M(["modelk",{"is-invalid":g.value}]),clearable:"",placeholder:"请选择"},{default:s(()=>[(t(!0),u(_,null,T(z.value,l=>(t(),B(o(I),{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","class"]),g.value?(t(),u("span",se,w(g.value),1)):b("",!0),a(i,{class:"bdlfx",effect:"dark",size:"large",type:"pink"},{default:s(()=>e[13]||(e[13]=[r("波动率分析")])),_:1}),a(o(N),{modelValue:f.value,"onUpdate:modelValue":e[3]||(e[3]=l=>f.value=l),class:"bdlfxk1",label:"1"},{default:s(()=>e[14]||(e[14]=[r("是")])),_:1},8,["modelValue"]),a(o(N),{modelValue:f.value,"onUpdate:modelValue":e[4]||(e[4]=l=>f.value=l),class:"bdlfxk2",label:"2"},{default:s(()=>e[15]||(e[15]=[r("否")])),_:1},8,["modelValue"]),a(o(O),{class:"go",color:"#FF0191",round:"",onClick:U},{default:s(()=>e[16]||(e[16]=[r("开始预测")])),_:1}),a(o(O),{class:"change",color:"#FB9999",round:"",onClick:K},{default:s(()=>e[17]||(e[17]=[r("商务版")])),_:1})]),_:1}),a(A,{class:"card2-1",shadow:"always"},{default:s(()=>[E.value?(t(),u("img",te)):b("",!0),C("div",oe,[R(C("div",ue,null,512),[[H,L.value]])])]),_:1})])):b("",!0),h.value?(t(),u("div",re,[e[26]||(e[26]=C("span",{class:"page-title"},"股票预测",-1)),a(A,{class:"card1-2",shadow:"always"},{default:s(()=>[a(i,{class:"select",effect:"dark",size:"large",type:"success"},{default:s(()=>e[19]||(e[19]=[r("请选择一支股票")])),_:1}),a(o(P),{modelValue:V.value,"onUpdate:modelValue":e[5]||(e[5]=l=>V.value=l),class:M(["selectk",{"is-invalid":y.value}]),filterable:"",placeholder:"请选择"},{default:s(()=>[(t(!0),u(_,null,T(S.value,l=>(t(),B(o(I),{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","class"]),y.value?(t(),u("span",ie,w(y.value),1)):b("",!0),a(i,{class:"ptime",effect:"dark",size:"large",type:"danger"},{default:s(()=>e[20]||(e[20]=[r("预测时间选择")])),_:1}),a(o(J),{modelValue:k.value,"onUpdate:modelValue":e[6]||(e[6]=l=>k.value=l),class:M(["ptimek",{"is-invalid":c.value}]),placeholder:"请输入最多60天",clearable:""},null,8,["modelValue","class"]),c.value?(t(),u("span",ne,w(c.value),1)):b("",!0),a(i,{class:"model",effect:"dark",size:"large",type:"warning"},{default:s(()=>e[21]||(e[21]=[r("模型选择")])),_:1}),a(o(P),{modelValue:x.value,"onUpdate:modelValue":e[7]||(e[7]=l=>x.value=l),class:M(["modelk",{"is-invalid":g.value}]),clearable:"",placeholder:"请选择"},{default:s(()=>[(t(!0),u(_,null,T(z.value,l=>(t(),B(o(I),{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","class"]),g.value?(t(),u("span",ve,w(g.value),1)):b("",!0),a(i,{class:"bdlfx",effect:"dark",size:"large",type:"dark"},{default:s(()=>e[22]||(e[22]=[r("波动率分析")])),_:1}),a(o(N),{modelValue:f.value,"onUpdate:modelValue":e[8]||(e[8]=l=>f.value=l),class:"bdlfxk1",label:"1"},{default:s(()=>e[23]||(e[23]=[r("是")])),_:1},8,["modelValue"]),a(o(N),{modelValue:f.value,"onUpdate:modelValue":e[9]||(e[9]=l=>f.value=l),class:"bdlfxk2",label:"2"},{default:s(()=>e[24]||(e[24]=[r("否")])),_:1},8,["modelValue"]),a(o(O),{class:"go",color:"#6495ed",round:"",onClick:U},{default:s(()=>e[25]||(e[25]=[r("开始预测")])),_:1})]),_:1}),a(A,{class:"card2-2",shadow:"always"},{default:s(()=>[E.value?(t(),u("img",de)):b("",!0),C("div",ce,[R(C("div",pe,null,512),[[H,L.value]])])]),_:1})])):b("",!0)],64)}}}),ge=q(be,[["__scopeId","data-v-fd1b40b4"]]);export{ge as default};
//# sourceMappingURL=PredictionPage-9gsxIgZe.js.map
