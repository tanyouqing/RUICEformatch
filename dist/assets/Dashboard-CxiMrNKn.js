import{r as n,o as p,c as _,w as e,a as t,d as E,b,e as O,f as a,u as f,g,t as w,E as K,h as T,_ as S,i as U,j as B,k as j,l as y,m as M,F as k,V as P}from"./index-SbsWRYZY.js";import{h as I}from"./http-zBWokLSq.js";import"./axios-CCb-kr4I.js";const A={__name:"StockOrderedTable",props:{top10List:Array,default:()=>[]},setup(C){return(s,d)=>{const l=n("ElTableColumn"),r=n("ElTable");return p(),_(r,{data:C.top10List,stripe:"",style:{width:"100%"}},{default:e(()=>[t(l,{prop:"ticker",label:"股票",width:"150"}),t(l,{prop:"market_cap",label:"市值",width:"150"}),t(l,{prop:"growth_amount",label:"增长量",width:"150"}),t(l,{prop:"growth_rate",label:"增长率",width:"150"})]),_:1},8,["data"])}}},J={class:"left-part"},z={style:{"margin-top":"50px"}},Z={style:{"margin-top":"30px"}},$=E({__name:"HomeMain",setup(C){const s=b({cap:[],rate:[],amt:[]}),d=b({input:"",result:""}),l=async()=>{console.log("text_sentiment. start");const r=(await I.post("/nlp/sentiment_analyse",{text:d.input})).data;console.log("text_sentiment. res:",r),d.result=r};return O(async()=>{const r=(await I.get("")).data;console.log("data:",r);const i=c=>({ticker:c.ticker,market_cap:(c.market_cap/1e9).toFixed(3),growth_amount:c.growth_amount.toFixed(2),growth_rate:(c.growth_rate*100).toFixed(2)+"%"});s.cap=r.top_10_market_cap.map(i),s.rate=r.top_10_growth_rate.map(i),s.amt=r.top_10_growth_amount.map(i)}),(r,i)=>{const c=n("VaCardTitle"),u=n("ElInput"),o=n("ElButton"),h=n("VaCardContent"),v=n("VaCard");return p(),_(v,null,{default:e(()=>[t(c,{class:"pb-0!"},{default:e(()=>i[1]||(i[1]=[a("h1",{class:"card-title text-secondary font-bold uppercase"},"股票",-1)])),_:1}),t(h,{class:"flex flex-row gap-1"},{default:e(()=>[a("div",J,[t(f(K),{type:"border-card",style:{width:"700px"}},{default:e(()=>[t(f(T),{label:"市值TOP10"},{default:e(()=>[t(A,{"top10-list":s.cap},null,8,["top10-list"])]),_:1}),t(f(T),{label:"增长量TOP10"},{default:e(()=>[t(A,{"top10-list":s.amt},null,8,["top10-list"])]),_:1}),t(f(T),{label:"增长率TOP10"},{default:e(()=>[t(A,{"top10-list":s.rate},null,8,["top10-list"])]),_:1})]),_:1}),a("div",z,[t(u,{id:"txt-input",modelValue:d.input,"onUpdate:modelValue":i[0]||(i[0]=x=>d.input=x),placeholder:"请输入",style:{"max-width":"400px"},type:"textarea",autosize:""},null,8,["modelValue"]),t(o,{onClick:l},{default:e(()=>i[2]||(i[2]=[g("分析")])),_:1}),a("div",Z,"结果: "+w(d.result),1)])])]),_:1})]),_:1})}}}),W=S($,[["__scopeId","data-v-b78d370a"]]),L=b({user_name:null,password:"",backtestbackup:{LSTM:{advice:[`1. "Given the negative Sharpe Ratio (-0.43), it's important to note that the risk-adjusted return for this stock portfolio is relatively low. This suggests that while there may be some short-term gains, investors might not be compensated adequately for the level of risk taken. Consider diversifying your portfolio or exploring other investment options with higher Sharpe Ratios."`,`2. "The small Alpha value (0.0059) indicates that the portfolio's excess return over the benchmark index is minimal. This means that any gains might be due to market fluctuations rather than skillful management. It would be advisable to re-evaluate the weightings or seek more actively managed funds for better performance."`,'3. "A significant negative Beta (-1.47e-05) implies that the stocks are less responsive to market movements, which could be a positive attribute in volatile times. However, it also suggests underperformance during bull markets. Investors should consider hedging strategies or rebalancing to protect against potential downturns."'],alpha:.0059647694023706194,beta:-14722136311978026e-21,daily_cash:[["2023-07-12",810],["2023-07-13",711.7323262581591],["2023-07-14",718.7455601329402],["2023-07-17",708.4337731308168],["2023-07-18",695.6517486763844],["2023-07-19",679.5193844184552],["2023-07-20",665.6144987358026],["2023-07-21",632.1593105158768],["2023-07-24",652.9030558739667],["2023-07-25",617.8944671787583],["2023-07-26",616.506754044316],["2023-07-27",595.3141080488114],["2023-07-28",554.446485719703]],image_path:"images/portfolio_value_lstm.png",return_rate:.3990331339895988,sharpe_ratio:-.43107705089665405},XGBoost:{advice:[`1. "Based on the negative Sharpe Ratio (-0.456), it's important to note that this strategy might not outperform a risk-free investment. It suggests that for the level of risk taken, the returns generated are insufficient. Consider diversifying or exploring alternative strategies with higher risk-adjusted returns."`,'2. "The low Alpha (0.0034) indicates that the excess return generated by the portfolio compared to the benchmark is minimal. This could mean that the portfolio is not consistently beating the market. A reevaluation of weights and selection criteria for AAPL, MSFT, and AMZN might be necessary."',`3. "The Beta of 0.0071 indicates a slight sensitivity to market movements. If the broader market experiences downturns, these stocks might experience a similar decline. It's advisable to hedge or limit exposure to protect against potential systemic risks."`],alpha:.003476019272145086,beta:.007155428749559587,daily_cash:[["2023-07-12",729],["2023-07-13",701.49695272819],["2023-07-14",671.1332739152961],["2023-07-17",657.6065309423825],["2023-07-18",667.3812247208695],["2023-07-19",660.7258020824644],["2023-07-20",695.0119173771159],["2023-07-21",710.0766306895077],["2023-07-24",697.917614045547],["2023-07-25",667.2589525051026],["2023-07-26",674.0507414462646],["2023-07-27",691.2221719839464],["2023-07-28",660.0162233566366]],image_path:"images/portfolio_value_xgboost.png",return_rate:.3281658257045251,sharpe_ratio:-.45647612220711464},best_model:"LSTM",lightGBM:{advice:['1. "Based on the backtesting results, the stock portfolio of AAPL, MSFT, and AMZN has a relatively low Sharpe Ratio (-0.52), indicating that the risk-adjusted returns are negative. This suggests that the strategy may not be optimal for risk-averse investors. Consider diversifying your portfolio to mitigate potential losses."',`2. "The Alpha value of 0.0021 indicates a slight outperformance compared to the benchmark, but it's minimal. It's advisable to monitor these stocks closely and consider alternative investments with higher alpha to maximize returns."`,'3. "A beta of 0.014 suggests a low correlation with the market, which could offer some stability in a volatile market. However, since the beta is so close to zero, it might not provide significant protection during downturns. Be prepared for potential market fluctuations."'],alpha:.002114361707514676,beta:.014084214525428778,daily_cash:[["2023-07-12",729],["2023-07-13",721.5781024353445],["2023-07-14",693.2241195506609],["2023-07-17",681.9462989705203],["2023-07-18",649.1004051917421],["2023-07-19",640.619299064765],["2023-07-20",676.8335498580764],["2023-07-21",690.1624072017939],["2023-07-24",701.576994069506],["2023-07-25",671.3893007977157],["2023-07-26",682.4511859985611],["2023-07-27",690.1077838814816],["2023-07-28",658.9018352541718]],image_path:"images/portfolio_value_lightgbm.png",return_rate:.21672701545803646,sharpe_ratio:-.5217101884290529}},stockList:["AAPL","MSFT","AMZN","GOOGL","GOOG","FB","BRK-A","BRK-B","JNJ","TSLA","V","WMT","JPM","MA","PG","NVDA","HD","DIS","UNH","PYPL","BAC","INTC","CMCSA","VZ","NFLX","PFE","ADBE","T","PEP","CRM","ABT","CSCO","ABBV","XOM","AVGO","KO","CMG","AMD","DUK","QCOM","TMO","COST","LLY","NEE","MRK","MDT","TMUS","ORCL","ACN","NKE","CL"],stockMap:{AAPL:"Apple Inc.",MSFT:"Microsoft Corporation",AMZN:"Amazon.com Inc.",GOOGL:"Alphabet Inc.",GOOG:"Alphabet Inc.",FB:"Meta Platforms Inc.","BRK-A":"Berkshire Hathaway Inc.","BRK-B":"Berkshire Hathaway Inc.",JNJ:"Johnson & Johnson",TSLA:"Tesla Inc.",V:"Visa Inc.",WMT:"Walmart Inc.",JPM:"JPMorgan Chase & Co.",MA:"Mastercard Inc.",PG:"Procter & Gamble Company",NVDA:"NVIDIA Corporation",HD:"The Home Depot Inc.",DIS:"The Walt Disney Company",UNH:"UnitedHealth Group Inc.",PYPL:"PayPal Holdings Inc.",BAC:"Bank of America Corporation",INTC:"Intel Corporation",CMCSA:"Comcast Corporation",VZ:"Verizon Communications Inc.",NFLX:"Netflix Inc.",PFE:"Pfizer Inc.",ADBE:"Adobe Inc.",T:"AT&T Inc.",PEP:"PepsiCo Inc.",CRM:"Salesforce.com Inc.",ABT:"Abbott Laboratories",CSCO:"Cisco Systems Inc.",ABBV:"AbbVie Inc.",XOM:"Exxon Mobil Corporation",AVGO:"Broadcom Inc.",KO:"The Coca-Cola Company",CMG:"Chipotle Mexican Grill Inc.",AMD:"Advanced Micro Devices Inc.",DUK:"Duke Energy Corporation",QCOM:"QUALCOMM Incorporated",TMO:"Thermo Fisher Scientific Inc.",COST:"Costco Wholesale Corporation",LLY:"Eli Lilly and Company",NEE:"NextEra Energy Inc.",MRK:"Merck & Co. Inc.",MDT:"Medtronic plc",TMUS:"T-Mobile US Inc.",ORCL:"Oracle Corporation",ACN:"Accenture plc",NKE:"NIKE Inc.",CL:"Colgate-Palmolive Company"}}),X=E({__name:"HomeLeft",setup(C){const s=U(null),d=B(()=>{const u=s.value??"";return L.stockMap[u]||"未找到股票"}),l=B(()=>Object.keys(L.stockMap)),r=j(),i=()=>{r.push({path:"/auth/login"})},c=()=>{if(s.value){const u=r.resolve({name:"stock",query:{ticker:s.value}});window.open(u.href,"_blank")}};return(u,o)=>{const h=n("VaCardTitle"),v=n("ElButton"),x=n("ElCol"),V=n("ElRow"),N=n("ElOption"),D=n("ElSelect"),G=n("ElLink"),R=n("ElCard"),F=n("VaCardContent");return p(),_(f(P),{class:"flex flex-col"},{default:e(()=>[t(h,{class:"flex items-start justify-between"},{default:e(()=>o[1]||(o[1]=[a("h1",{class:"card-title text-secondary font-bold uppercase"},"列表",-1),a("div",{class:"flex gap-1"},null,-1)])),_:1}),t(F,{class:"flex flex-col-reverse md:flex-row justify-between gap-5 h-full"},{default:e(()=>[a("div",null,[o[4]||(o[4]=a("div",{style:{height:"10px"}},null,-1)),t(V,null,{default:e(()=>[t(x,{class:"row",span:4,style:{height:"10px"}},{default:e(()=>[t(v,{type:"success",onClick:i},{default:e(()=>o[2]||(o[2]=[g("返回")])),_:1})]),_:1})]),_:1}),o[5]||(o[5]=a("div",{style:{height:"20px"}},null,-1)),o[6]||(o[6]=a("div",{class:"card-header"},[a("h3",null,"股票列表")],-1)),o[7]||(o[7]=a("div",{style:{height:"20px"}},null,-1)),t(D,{modelValue:s.value,"onUpdate:modelValue":o[0]||(o[0]=m=>s.value=m),filterable:"",clearable:"",placeholder:"请选择",style:{width:"175px"}},{default:e(()=>[(p(!0),y(k,null,M(l.value,m=>(p(),_(N,{key:m,label:m,value:m},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),t(v,{onClick:c},{default:e(()=>o[3]||(o[3]=[g("查询")])),_:1}),o[8]||(o[8]=a("div",{style:{height:"20px"}},null,-1)),a("p",null,w(d.value),1),t(R,{shadow:"hover",class:"card",style:{height:"300px",overflow:"auto"}},{default:e(()=>[(p(!0),y(k,null,M(l.value,(m,H)=>(p(),_(V,{key:H,style:{"justify-content":"center","margin-bottom":"10px"}},{default:e(()=>[t(G,{onClick:()=>s.value=m},{default:e(()=>[g(w(m),1)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})])]),_:1})]),_:1})}}}),Y=S(X,[["__scopeId","data-v-aceb2736"]]),Q={class:"flex flex-col gap-4"},q={class:"flex flex-col sm:flex-row gap-2"},tt={class:"flex flex-col gap-4 w-full sm:w-[70%]"},et={class:"flex flex-col md:flex-row gap-52"},st=E({__name:"Dashboard",setup(C){const s=b({news:[],formed_news:""});return O(async()=>{console.log("Home page mounted"),s.news=(await I.get("/nlp/news")).data,console.log("info.news: ",s.news)}),(d,l)=>{const r=n("VaCardTitle"),i=n("ElRow"),c=n("ElCard"),u=n("VaCardContent");return p(),y(k,null,[l[3]||(l[3]=a("h1",{class:"page-title font-bold"},null,-1)),a("section",Q,[a("div",q,[t(Y,{class:"w-full sm:w-[30%]"}),a("div",tt,[t(W,{class:"h-full"})])]),a("div",et,[t(f(P),{class:"w-full sm:w-[100%]",style:{height:"250px","overflow-y":"auto"}},{default:e(()=>[t(r,{class:"flex items-center justify-between"},{default:e(()=>l[0]||(l[0]=[a("h1",{class:"card-title text-secondary font-bold uppercase"},"今日资讯",-1)])),_:1}),t(u,{class:"flex-1 flex overflow-hidden"},{default:e(()=>[t(c,{class:"w-full md:w-4/5",style:{"margin-top":"10px"}},{header:e(()=>l[1]||(l[1]=[a("p",null,"资讯",-1)])),default:e(()=>[(p(!0),y(k,null,M(s.news,(o,h)=>(p(),_(i,{key:h,style:{"margin-top":"20px"}},{default:e(()=>[g(w(h+1+". "+o),1),l[2]||(l[2]=a("br",null,null,-1))]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})])])],64)}}});export{st as default};
//# sourceMappingURL=Dashboard-CxiMrNKn.js.map
