import{d as k,n as w,b as u,e as v,p as b,r as _,o as d,l as h,f as i,c as y,w as m,F as f,m as S,t as g,g as A,q as M}from"./index-SbsWRYZY.js";import{h as C}from"./http-zBWokLSq.js";import{i as E}from"./index-DFpWVYxE.js";import"./axios-CCb-kr4I.js";function x(s,r){const o=[];for(let a=0,l=r.length;a<l;a++){if(a<s){o.push("-");continue}let n=0;for(let e=0;e<s;e++)n+=+r[a-e][1];o.push(n/s)}return o}function D(s,r,o){const a=E(s),l=r.map(function(t){return t[0]}),n=r.map(function(t){return[+t[1],+t[2],+t[3],+t[4]]}),e={title:{text:`Stock: ${o}`},legend:{data:["Daily K","MA10","MA50"],inactiveColor:"#777"},tooltip:{trigger:"axis",axisPointer:{animation:!1,type:"cross",lineStyle:{color:"#376df4",width:2,opacity:1}}},xAxis:{type:"category",data:l,axisLine:{lineStyle:{color:"#8392A5"}}},yAxis:[{name:"Price",position:"left",scale:!0,axisLine:{lineStyle:{color:"#8392A5"}},splitLine:{show:!0}}],grid:{bottom:80},dataZoom:[{textStyle:{color:"#8392A5"},show:!0,handleIcon:"path://M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4v1.3h1.3v-1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z",dataBackground:{areaStyle:{color:"#8392A5"},lineStyle:{opacity:.8,color:"#8392A5"}},brushSelect:!0},{type:"inside"}],series:[{type:"candlestick",name:"Day",data:n,itemStyle:{color:"#f80101",color0:"#05f516",borderColor:"#FD1050",borderColor0:"#05f516"}},{name:"MA10",type:"line",data:x(10,n),smooth:!0,showSymbol:!1,lineStyle:{width:1}},{name:"MA50",type:"line",data:x(50,n),smooth:!0,showSymbol:!1,lineStyle:{width:1}}]};a.setOption(e)}const V={class:"flex flex-col gap-4"},B={id:"main"},z={class:"right-part"},F={class:"cell-item",style:{width:"130px"}},L=k({__name:"Stock",setup(s){const r=w(),o=u({current_price:0,growth_amount:0,growth_rate:0,market_cap:0,pe_ratio:0,volume:0,daily_data:[]}),a=u({list:[]}),l={current_price:"Current Price ( $)",growth_amount:"Growth Amount",growth_rate:"Growth Rate",market_cap:"Market Cap (billion $)",pe_ratio:"P/E Ratio",volume:"Volume"};return v(async()=>{console.log("Stock page mounted");try{const n=await C.get(`${r.query.ticker}`);Object.assign(o,n.data),console.log("stock_info: ",o);const e=Object.keys(l);a.list=Object.entries(o).filter(([t])=>e.includes(t)).map(([t,c])=>({index_name:t,value:t==="market_cap"?(Number(c)/1e9).toFixed(3):Number(c).toFixed(3)})),await b(()=>{const t=document.getElementById("k_chart");t&&o.daily_data&&D(t,o.daily_data,`${r.query.ticker}`)})}catch(n){console.error("Error fetching stock data:",n)}}),(n,e)=>{const t=_("ElDescriptionsItem"),c=_("ElDescriptions");return d(),h(f,null,[e[1]||(e[1]=i("h1",{class:"page-title font-bold"},null,-1)),i("section",V,[i("div",B,[e[0]||(e[0]=i("div",{class:"left-part"},[i("div",{id:"k_chart",style:{height:"600px",width:"1000px"}})],-1)),i("div",z,[a.list.length>0?(d(),y(c,{key:0,class:"margin-top",column:1,direction:"horizontal",size:"large",border:"",style:{"margin-top":"10px"}},{default:m(()=>[(d(!0),h(f,null,S(a.list,p=>(d(),y(t,{key:p.index_name,align:"center"},{label:m(()=>[i("div",F,g(l[p.index_name]||"Unknown"),1)]),default:m(()=>[A(" "+g(p.value),1)]),_:2},1024))),128))]),_:1})):M("",!0)])])])],64)}}});export{L as default};
//# sourceMappingURL=Stock-CoafzVJs.js.map
